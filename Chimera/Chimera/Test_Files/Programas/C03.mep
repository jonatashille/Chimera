include macros.asm
pilha SEGMENT PARA STACK 'STACK'
dw  100  dup(? )
pilha ENDS
dados   SEGMENT PARA 'DATA'
dw  10  dup(0)
buffer db 5 dup(' ')
mesg   db  10, ? , 11 dup(0)
dados   ENDS
procs   SEGMENT PARA 'DATA'
dw  32000 dup(0)
procs   ENDS
codigo  SEGMENT PARA 'CODE'
ASSUME SS : pilha, CS : codigo, DS : dados, ES : dados
inicio PROC  FAR
; ----------Inicio das Instrucoes MEPA
INPP
; ---------- Chama Procedimento/Funcao - MAIN
CHPR MAIN,1
DSVS FIM
R3:NADA
; ---------- Entrada Procedimento/Funcao
ENPR 1
CRVL 1,0
CRCT 1
SOMA
ARMI 1,-3
RTPR 1,3
; ---------- Fim/Retorno de Procedimento/Funcao
; ----------Inicio MAIN
MAIN:NADA
; ---------- Entrada Procedimento/Funcao
ENPR 1
; ---------- Alocacao de Memoria (0)
AMEM 0
; ---------- Alocacao de Memoria (34)
AMEM 34
; ---------- Inicio Armazenamento String
CRCT '0'
ARMZ 1,1
CRCT '0'
ARMZ 1,2
CRCT '7'
ARMZ 1,3
CRCT '-'
ARMZ 1,4
CRCT 'S'
ARMZ 1,5
CRCT 'p'
ARMZ 1,6
CRCT 'e'
ARMZ 1,7
CRCT 'c'
ARMZ 1,8
CRCT 't'
ARMZ 1,9
CRCT 'r'
ARMZ 1,10
CRCT 'u'
ARMZ 1,11
CRCT 'm'
ARMZ 1,12
; ---------- Fim Armazenamento String
CRCT 2015
ARMZ 1,32
; ---------- Inicio Leitura String
CRVL 1,1
IMPC
CRVL 1,2
IMPC
CRVL 1,3
IMPC
CRVL 1,4
IMPC
CRVL 1,5
IMPC
CRVL 1,6
IMPC
CRVL 1,7
IMPC
CRVL 1,8
IMPC
CRVL 1,9
IMPC
CRVL 1,10
IMPC
CRVL 1,11
IMPC
CRVL 1,12
IMPC
; ---------- Fim Leitura String
IMPE
CRVL 1,32
IMPR
IMPE
; ---------- Desalocacao de Memoria (34)
DMEM 34
RTPR 1,0
; ---------- Fim/Retorno de Procedimento/Funcao
FIM:NADA
; ---------- Desalocacao de Memoria (32)
DMEM 32
PARA
; ----------Fim das Instrucoes MEPA
inicio  ENDP
codigo  ENDS
END    inicio
